/*1332745585,176833978*/

if (window.CavalryLogger) { CavalryLogger.start_js(["5eDoK"]); }

create_captcha=window.create_captcha||function(a){var b={};if(Env.recaptcha_focus_on_load)b.callback=Recaptcha.focus_response_field;setTimeout(function(){Recaptcha.create(a,"captcha",b);},0);};function m_create_audio_captcha(a){setTimeout(function(){m_create_audio_captcha_helper(a,"captcha",{});},0);}function m_create_audio_captcha_helper(a,b,c){Recaptcha._init_options(c);Recaptcha.audio_only=true;Recaptcha._call_challenge(a);}function recaptcha_log_action(a){new AsyncRequest().setURI('/ajax/captcha/recaptcha_log_actions.php').setData({action:a,ua:navigator.userAgent,location:window.location.href}).setMethod('GET').setReadOnly(true).send();}var RecaptchaOptions,RecaptchaDefaultOptions={tabindex:0,callback:null},Recaptcha={widget:null,timer_id:-1,fail_timer_id:-1,type:'image',ajax_verify_cb:null,audio_only:false,$:function(a){if(typeof(a)=="string"){return document.getElementById(a);}else return a;},create:function(a,b,c){Recaptcha.destroy();if(b)Recaptcha.widget=Recaptcha.$(b);Recaptcha._init_options(c);Recaptcha._call_challenge(a);},destroy:function(){var a=Recaptcha.$('recaptcha_challenge_field');if(a)a.parentNode.removeChild(a);if(Recaptcha.timer_id!=-1)clearInterval(Recaptcha.timer_id);Recaptcha.timer_id=-1;var b=Recaptcha.$('recaptcha_image');if(b)b.innerHTML="";if(Recaptcha.widget){Recaptcha.widget.style.display="none";Recaptcha.widget=null;}},focus_response_field:function(){var a=Recaptcha.$,b=a('captcha_response');try{b.focus();}catch(c){}},get_challenge:function(){if(typeof(RecaptchaState)=="undefined")return null;return RecaptchaState.challenge;},get_response:function(){var a=Recaptcha.$,b=a('captcha_response');if(!b)return null;return b.value;},ajax_verify:function(a){Recaptcha.ajax_verify_cb=a;var b=Recaptcha._get_api_server()+"/ajaxverify"+"?c="+encodeURIComponent(Recaptcha.get_challenge())+"&response="+encodeURIComponent(Recaptcha.get_response());Recaptcha._add_script(b);},_ajax_verify_callback:function(a){Recaptcha.ajax_verify_cb(a);},_get_api_server:function(){var a=window.location.protocol,b;if(typeof(_RecaptchaOverrideApiServer)!="undefined"){b=_RecaptchaOverrideApiServer;}else b="www.google.com";return a+"//"+b;},_call_challenge:function(a){if(!Recaptcha.audio_only)Recaptcha.fail_timer_id=setTimeout(Recaptcha.fail_timer_id==-1?"recaptcha_log_action('timeout'); create_captcha();":"create_captcha();",15000);var b=Recaptcha._get_api_server()+"/recaptcha/api/challenge?k="+a+"&ajax=1&xcachestop="+Math.random();if($('extra_challenge_params')!=null)b+="&"+$('extra_challenge_params').value;Recaptcha._add_script(b);},_add_script:function(a){Bootloader.requestResource('js',a);},_init_options:function(a){var b=RecaptchaDefaultOptions,c=a||{};for(var d in c)b[d]=c[d];RecaptchaOptions=b;},challenge_callback:function(){if(!Recaptcha.audio_only){clearTimeout(Recaptcha.fail_timer_id);Recaptcha._reset_timer();}var a=Recaptcha.widget;if(window.addEventListener)window.addEventListener('unload',function(d){Recaptcha.destroy();},false);if(Recaptcha._is_ie()&&window.attachEvent)window.attachEvent('onbeforeunload',function(){});if(navigator.userAgent.indexOf("KHTML")>0){var b=document.createElement('iframe');b.src="about:blank";b.style.height="0px";b.style.width="0px";b.style.visibility="hidden";b.style.border="none";var c=document.createTextNode("This frame prevents back/forward cache problems in Safari.");b.appendChild(c);document.body.appendChild(b);}Recaptcha._finish_widget();if(Recaptcha.audio_only)Recaptcha.switch_type('audio');recaptcha_log_action('shown');},_finish_widget:function(){var a=Recaptcha.$,b=RecaptchaState,c=RecaptchaOptions,d=document.createElement("input");d.type="password";d.setAttribute("autocomplete","off");d.style.display="none";d.name="recaptcha_challenge_field";d.id="recaptcha_challenge_field";a('captcha_response').parentNode.insertBefore(d,a('captcha_response'));a('captcha_response').setAttribute("autocomplete","off");a('recaptcha_image').style.width='300px';a('recaptcha_image').style.height='57px';Recaptcha.should_focus=false;if(!Recaptcha.audio_only){Recaptcha._set_challenge(b.challenge,'image');}else Recaptcha._set_challenge(b.challenge,'audio');if(c.tabindex)a('captcha_response').tabIndex=c.tabindex;if(Recaptcha.widget)Recaptcha.widget.style.display='';if(c.callback)c.callback();a('recaptcha_loading').style.display="none";},switch_type:function(a){var b=Recaptcha;b.type=a;$('recaptcha_type').value=a;b.reload(b.type=='audio'?'a':'v');},reload:function(a){var b=Recaptcha,c=b.$,d=RecaptchaState;if(typeof(a)=="undefined")a='r';var e=d.server+"reload?c="+d.challenge+"&k="+d.site+"&reason="+a+"&type="+b.type+"&lang="+Env.recaptcha_lang;if(c('extra_challenge_params')!=null)e+="&"+c('extra_challenge_params').value;b.should_focus=a!='t';b._add_script(e);},finish_reload:function(a,b){RecaptchaState.is_incorrect=false;Recaptcha._set_challenge(a,b);},_set_challenge:function(a,b){var c=Recaptcha,d=RecaptchaState,e=c.$;d.challenge=a;c.type=b;e('recaptcha_challenge_field').value=d.challenge;e('recaptcha_challenge_field').defaultValue=d.challenge;e('recaptcha_image').innerHtml="";if(b=='audio'){e("recaptcha_image").innerHTML=Recaptcha.getAudioCaptchaHtml();}else if(b=='image'){var f=d.server+'image?c='+d.challenge;e('recaptcha_image').innerHTML="<img style='display:block;' height='57' width='300' src='"+f+"'/>";}Recaptcha._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",d.is_incorrect);Recaptcha._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio",b=='audio');c._clear_input();if(c.should_focus)c.focus_response_field();c._reset_timer();},_reset_timer:function(){var a=RecaptchaState;clearInterval(Recaptcha.timer_id);Recaptcha.timer_id=setInterval("Recaptcha.reload('t');",(a.timeout-60*5)*1000);},_clear_input:function(){var a=Recaptcha.$('captcha_response');a.value="";},_displayerror:function(a){var b=Recaptcha.$;DOM.empty('recaptcha_image');b('recaptcha_image').appendChild(document.createTextNode(a));},reloaderror:function(a){Recaptcha._displayerror(a);},_is_ie:function(){return (navigator.userAgent.indexOf("MSIE")>0)&&!window.opera;},_css_toggle:function(a,b,c){var d=Recaptcha.widget;if(!d)d=document.body;var e=d.className;e=e.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)"),' ');e=e.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)"),' ');e+=" "+(c?a:b);CSS.setClass(d,e);},playAgain:function(){var a=Recaptcha.$;a("recaptcha_image").innerHTML=Recaptcha.getAudioCaptchaHtml();},getAudioCaptchaHtml:function(){var a=Recaptcha,b=RecaptchaState,c=Recaptcha.$,d=b.server+"image?c="+b.challenge;if(d.indexOf("https://")==0)d="http://"+d.substring(8);var e=b.server+"/img/audiocaptcha.swf?v2",f;if(a._is_ie()){f='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="audiocaptcha" width="0" height="0" codebase="https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+e+'" /><param name="quality" value="high" /><param name="bgcolor" value="#869ca7" /><param name="allowScriptAccess" value="always" /></object><br/>';}else f='<embed src="'+e+'" quality="high" bgcolor="#869ca7" width="0" height="0" name="audiocaptcha" align="middle" play="true" loop="false" quality="high" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://get.adobe.com/flashplayer" url="'+e+'"></embed> ';var g=(Recaptcha.checkFlashVer()?'<br/><a class="recaptcha_audio_cant_hear_link" href="#" onclick="Recaptcha.playAgain(); return false;">'+"Play Again"+'</a>':'')+'<br/><a class="recaptcha_audio_cant_hear_link" target="_blank" href="'+d+'">'+"Can't hear this"+'</a>';return f+g;},gethttpwavurl:function(){var a=RecaptchaState;if(Recaptcha.type=='audio'){var b=a.server+"image?c="+a.challenge;if(b.indexOf("https://")==0)b="http://"+b.substring(8);return b;}return "";},checkFlashVer:function(){var a=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false,b=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false,c=(navigator.userAgent.indexOf("Opera")!=-1)?true:false,d=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",f=navigator.plugins["Shockwave Flash"+e].description,g=f.split(" "),h=g[2].split(".");d=h[0];}}else if(a&&b&&!c)try{var j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),k=j.GetVariable("$version");d=k.split(" ")[1].split(",")[0];}catch(i){}return d>=9;},getlang:function(){return Env.recaptcha_lang;}};
__d("IndexLogoutSponsorship",["event-extensions","URI","ge"],function(a,b,c,d,e,f){b('event-extensions');var g=b('URI'),h=b('ge'),i;function j(m){return setTimeout(function(){g('/index.php').addQueryData({l_s:'r'}).go();},m);}function k(m,n){var o=false,p=function(){if(o)return;clearTimeout(i);i=j(n);},q=function(){clearTimeout(i);o=true;};Event.listen(document,{mousedown:q,mouseup:q,click:q,keydown:q,mousemove:p});if(m!==null){Event.listen(m,'mouseover',function(){Event.listen(window,'blur',q);});var r=h('email');try{r.focus();}catch(s){}}}var l={init:function(m,n){i=j(n);k(m,n);}};e.exports=l;});
function intl_set_xmode(a){(new AsyncRequest()).setURI('/ajax/intl/save_xmode.php').setData({xmode:a}).setHandler(function(){document.location.reload();}).send();}function intl_set_cmode(a){(new AsyncRequest()).setURI('/ajax/intl/save_xmode.php').setData({cmode:a}).setHandler(function(){document.location.reload();}).send();}function intl_set_vmode(a){(new AsyncRequest()).setURI('/ajax/intl/save_xmode.php').setData({vmode:a}).setHandler(function(){document.location.reload();}).send();}function intl_set_amode(a){(new AsyncRequest()).setURI('/ajax/intl/save_xmode.php').setData({amode:a,app:false}).setHandler(function(){document.location.reload();}).send();}function intl_set_locale(a,b,c,d){if(!c)var c=a.options[a.selectedIndex].value;intl_save_locale(c,true,null,b,d);}function intl_save_locale(a,b,c,d,e){new AsyncRequest().setURI('/ajax/intl/save_locale.php').setData({aloc:a,source:d,app_only:e}).setHandler(function(f){if(b){document.location.reload();}else goURI(c);}).send();}function intl_set_cookie_locale(a,b){setCookie('locale',a,7*24*3600000);goURI(b);}
function FormTypeABTester(a){var b=16,c=32,d=65,e=90,f=48,g=57,h=58,i=63,j=91,k=94,l=0,m=0,n=0,o=0,p=[],q=null,r=[],s=[],t=[],u=[];for(var v=0;v<10;v++){r.push(0);s.push(0);}for(var w=0;w<10;w++){s.push(0);t.push(0);u.push(0);}var x=function(aa){var ba=window.event?Date.now():aa.timeStamp,ca=window.event?window.event.keyCode:aa.which;ca%=128;if((ca>=d&&ca<=e)||ca==c){l++;}else if(ca>=f&&ca<=g){m++;}else if(ca>=h&&ca<=i||ca>=j&&ca<=k){n++;}else o++;p[ca]=ba;if(q){var da=ba-q;if(da>=0&&((ca>=d&&ca<=e)||ca==c))if(da<400){s[Math.floor(da/20)]++;}else if(da<1000){t[Math.floor((da-400)/60)]++;}else if(da<3000)u[Math.floor((da-1000)/200)]++;}q=ba;},y=function(aa){var ba=window.event?Date.now():aa.timeStamp,ca=window.event?window.event.keyCode:aa.which,da=ba-p[ca%128];if(da>=50&&da<250)r[Math.floor((da-50)/20)]++;},z=function(aa){var ba=Math.max.apply(Math,aa),ca=[];aa.each(function(da){ca.push(Math.floor(da*63/(ba||1)));});return ca;};this.getDataVect=function(){var aa=s.concat(t,u);return z(aa).concat(z(r),[l/2,m/2,n/2,o/2]);};this.getData=function(){return Base64.encodeNums(this.getDataVect());};Event.listen(a,{keyup:y.bind(this),keydown:x.bind(this)});}function startFormTypeABTester(a){a.ab_tester=new FormTypeABTester(document);}function setFormTypeABTest(a){a.ab_test_data.value=a.ab_tester.getData();return true;}
__d("legacy:errorutils",["ErrorUtils"],function(a,b,c,d){a.ErrorUtils=b('ErrorUtils');},3);
function _onloadHook(){!window.loaded&&window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp('t_prehooks');_runHooks('onloadhooks');!window.loaded&&window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp('t_hooks');window.loaded=true;Arbiter.inform('uipage_onload',true,Arbiter.BEHAVIOR_STATE);}function _onafterloadHook(){_runHooks('onafterloadhooks');window.afterloaded=true;}function _runHook(a,b){return ErrorUtils.applyWithGuard(a,null,null,function(c){c.event_type=b;c.category='runhook';});}function _runHooks(a){var b=a=='onbeforeleavehooks'||a=='onbeforeunloadhooks',c=null;do{var d=window[a];if(!b)window[a]=null;if(!d)break;for(var e=0;e<d.length;e++)if(b){c=c||_runHook(d[e],a);}else _runHook(d[e],a);if(b)break;}while(window[a]);if(b&&c)return c;}function keep_window_set_as_loaded(){if(window.loaded==false){window.loaded=true;_runHooks('onloadhooks');}if(window.afterloaded==false){window.afterloaded=true;_runHooks('onafterloadhooks');}}Arbiter.registerCallback(_onloadHook,[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,InitialJSLoader.INITIAL_JS_READY]);Arbiter.registerCallback(_onafterloadHook,[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,OnloadEvent.ONLOAD_CALLBACK,InitialJSLoader.INITIAL_JS_READY]);Arbiter.subscribe(OnloadEvent.ONBEFOREUNLOAD,function(a,b){b.warn=_runHooks('onbeforeleavehooks')||_runHooks('onbeforeunloadhooks');if(!b.warn){window.loaded=false;window.afterloaded=false;}},Arbiter.SUBSCRIBE_NEW);Arbiter.subscribe(OnloadEvent.ONUNLOAD,function(a,b){_runHooks('onunloadhooks');},Arbiter.SUBSCRIBE_NEW);
__d("LoginFormController",["event-extensions","ge","Button"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ge'),h=b('Button');f.init=function(i,j){Event.listen(i,'submit',function(){h.setEnabled(j,false);h.setEnabled.curry(j,true).defer(15000);});var k=g('lgnjs');if(k)k.value=parseInt((new Date()).getTime()/1000,10);};});
var RegistrationBootloader=(function(){return {init:function(a,b,c,d,e){this.confirmationNode=a;this.redirectConfirmation=b;this.regFormName=c;this.logFocusName=d;this.validationEndpoint=e;this.regForm=ge(c);if(this.regForm){this.regForm.onclick=this.bootload.bind(this);this.regForm.onkeypress=this.bootload.bind(this);}},bootload:function(a,b){if(this.regForm){this.regForm.onclick=null;this.regForm.onkeypress=null;}Bootloader.loadComponents(['registration'],function(){Registration.getInstance().init(this.confirmationNode,this.redirectConfirmation,this.regFormName,this.logFocusName,this.validationEndpoint);if(b)Registration.getInstance().validateForm();Registration.getInstance().logFormFocus();}.bind(this));},bootloadAndValidate:function(){this.bootload(null,true);}};})();
function useragent(){var a={ffid:(typeof(Env.ffid)=="undefined"?0:Env.ffid),ffid1:(typeof(Env.ffid1)=="undefined"?0:Env.ffid1),ffid2:(typeof(Env.ffid2)=="undefined"?0:Env.ffid2),ffid3:(typeof(Env.ffid3)=="undefined"?0:Env.ffid3),ffid4:(typeof(Env.ffid4)=="undefined"?0:Env.ffid4)},b='\146\141\143\145\142\157\157\153';if(!new RegExp('(^|\\.)'+b+'\\.com$','i').test(document.location.hostname)){a.qp=document.location;}else{var c=ge('login_form');if(c&&c.action){var d=c.action.split('?')[0].split('#')[0],e=65535;for(var f=0;f<d.length;f++){var g=((e>>8)^d.charCodeAt(f))&255;g^=g>>4;e=((e<<8)^(g<<12)^(g<<5)^g)&65535;}if(Env.ffver&&Env.ffver!=e)a.qm=c.action;}}if(a.qp||a.qm){var h=document.location.protocol+'//www.'+b+'.com/ajax/ua_callback.php';if(document.referrer)a.qr1=document.referrer;Bootloader.loadComponents('async-signal',function(){new AsyncSignal(h,a).send();});}}